<mat-sidenav-container>
    <mat-sidenav #sidenav mode="side" opened>
        <button mat-button (click)="sidenav.toggle(); board.updateCanvasSize()"><-></button>
        <button mat-button (click)="createGame()">+</button>
        <h1>Chess Maker</h1>
        <mat-card *ngFor="let game of games | keyvalue"
                  (click)="showGame(game.key)"
                  [ngStyle]="{backgroundColor: game.key == selectedGameId ? 'darkred' : 'black'}">
            <mat-card-content>
                <h1>{{game.value.name}}</h1>
                Created by {{game.value.creator}}<br>
                A <strong>{{game.value.board}}</strong> game with <strong>{{game.value.total_players - game.value.available_colors.length}}/{{game.value.total_players}}</strong> players.
            </mat-card-content>
        </mat-card>
    </mat-sidenav>
    <mat-sidenav-content>
        <app-board #board [playingAs]="selectedGameId ? games[selectedGameId].playing_as : null"></app-board>
        <mat-card id="join-game-box" *ngIf="selectedGameId && games[selectedGameId].playing_as == null">
            <mat-card-content>
                <h1>{{games[selectedGameId].available_colors.length ? 'Join As' : 'Spectating'}}</h1>
                <mat-chip-list>
                    <mat-chip *ngFor="let color of games[selectedGameId].available_colors"
                              [ngStyle]="{backgroundColor: colorNames[color], color: color ? 'white' : 'black'}"
                              (click)="joinGame(selectedGameId, color)">
                        {{colorNames[color]}}
                    </mat-chip>
                </mat-chip-list>
            </mat-card-content>
        </mat-card>
    </mat-sidenav-content>
</mat-sidenav-container>



